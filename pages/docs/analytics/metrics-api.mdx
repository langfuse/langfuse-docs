---
description: Retrieve custom metrics from Langfuse for flexible analytics and reporting.
---

# Metrics API

```
GET /api/public/metrics
```

The **Metrics API** enables you to retrieve customized analytics from your Langfuse data.
This endpoint allows you to specify dimensions, metrics, filters, and time granularity to build powerful custom reports and dashboards for your LLM applications.

## Overview

The Metrics API supports querying across different views (traces, observations, scores) and allows you to:

- Select specific dimensions to group your data
- Apply multiple metrics with different aggregation methods
- Filter data based on metadata, timestamps, and other properties
- Analyze data across time with customizable granularity
- Order results according to your needs

## Query Parameters

The API accepts a JSON query object passed as a URL-encoded parameter:

| Parameter | Type        | Description                                                |
|-----------|-------------|------------------------------------------------------------|
| `query`   | JSON string | The encoded query object defining what metrics to retrieve |

### Query Object Structure

| Field           | Type   | Required | Description                                                                                                                                                              |
|-----------------|--------|----------|--------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| `view`          | string | Yes      | The data view to query: `"traces"`, `"observations"`, `"scores-numeric"`, or `"scores-categorical"`                                                                      |
| `dimensions`    | array  | No       | Array of dimension objects to group by, e.g. `[{ "field": "name" }]`                                                                                                     |
| `metrics`       | array  | Yes      | Array of metric objects to calculate, e.g. `[{ "measure": "latency", "aggregation": "p95" }]`                                                                            |
| `filters`       | array  | No       | Array of filter objects to narrow results, e.g. `[{ "column": "metadata", "operator": "contains", "key": "customKey", "value": "customValue", "type": "stringObject" }]` |
| `timeDimension` | object | No       | Configuration for time-based analysis, e.g. `{ "granularity": "day" }`                                                                                                   |
| `fromTimestamp` | string | Yes      | ISO timestamp for the start of the query period                                                                                                                          |
| `toTimestamp`   | string | Yes      | ISO timestamp for the end of the query period                                                                                                                            |
| `orderBy`       | object | No       | Specification for result ordering, e.g. `[{ "field": "name", "direction": "asc" }]`                                                                                      |

### Dimension Object Structure

```json
{ "field": "name" }
```

### Metric Object Structure

```json
{ "measure": "count", "aggregation": "count" }
```

Common measure types include:
- `count` - Count of records
- `latency` - Duration/latency metrics

Aggregation types include:
- `count` - Count records
- `p95` - 95th percentile
- Other standard aggregations (sum, avg, min, max, etc.)

### Filter Object Structure

```json
{
  "column": "metadata",
  "operator": "contains",
  "key": "customKey",
  "value": "customValue",
  "type": "stringObject"
}
```

### Time Dimension Object

```json
{
  "granularity": "day"
}
```

Supported granularities include: `hour`, `day`, `week`, `month`, and `auto`.

## Example

Here's an example of querying the number of traces grouped by name:

```bash
curl \
  -H "Authorization: Basic <BASIC AUTH HEADER>" \
  -G \
  --data-urlencode 'query={
    "view": "traces",
    "metrics": [{"measure": "count", "aggregation": "count"}],
    "dimensions": [{"field": "name"}],
    "filters": [],
    "fromTimestamp": "2025-05-01T00:00:00Z",
    "toTimestamp": "2025-05-13T00:00:00Z"
  }' \
  https://cloud.langfuse.com:3000/api/public/metrics
```

Response:

```json
{"data":[{"name":"trace-test-2","count_count":"10"},{"name":"trace-test-3","count_count":"5"},{"name":"trace-test-1","count_count":"3"}]}
```

## Data Model

---
description: Step-by-step guide to self-host Langfuse on your local machine using Docker
---

# Local Deployment

This guide will help you set up Langfuse on your local machine. It involves starting a local database and the Langfuse server, which is exposed on port `3000` by default.

Please note, **this setup is not suitable for production use** as the database is not persistent and environment variables are not kept secret. For a production-ready setup, consider using [Langfuse Cloud](/docs/deployment/cloud) maintained by the Langfuse team or follow our [self-hosting guide](/docs/deployment/self-host).

Requirements: `docker` and `docker compose`, both are included in [Docker Desktop](https://docs.docker.com/get-docker/) for Mac or Windows users.

## Getting Started

```bash
# Clone the Langfuse repository
git clone https://github.com/langfuse/langfuse.git
cd langfuse

# Start the server and database
docker compose up
```

-> Now, you can access Langfuse at http://localhost:3000

## Updating Langfuse

Docker has robust caching functionalities. To fetch the latest Langfuse container, you need to run `docker-compose pull`. Otherwise, Docker will use the cached version of the Langfuse container.

```bash
# Navigate to the Langfuse directory
cd langfuse

# Stop the server and database
docker compose down

# Fetch the latest changes
git pull
docker-compose pull

# Restart the server and database
docker compose up
```

### Matching historical Generations to models

With the new implementation of the usage and cost calculation, we can match the historical Generations to the new models defined in the database.

We added Langfuse maintained models to the database using migrations and will continue to do so. Hence they will be automatically available for self-hosters when running migrations. Once a migration was successful, all new Generations will be matched to the new models.

For historic Generations will not be matched to the new models by running a series of commands. During the migration, the server is available for UI users and SDKs.

Migration path:
- Creating an `.env` file:
    ```bash

    # Navigate to the Langfuse directory
    cd langfuse

    # Create an .env file
    cp .env.prod.example .env

    ```
- Setting the db URL: Open the `.env` file and set the `DIRECT_URL` with the connection string to your database. For example, `DIRECT_URL=postgresql://postgres:postgres@localhost:5432/langfuse`.

- Execute the migration:
    ```bash

    # Run the migration
    npm run model:match

    ```

Depending on the size of your database, this might take a while.

## Setting Up a Development Environment

Refer to [CONTRIBUTING.md](https://github.com/langfuse/langfuse/blob/main/CONTRIBUTING.md) for detailed instructions on how to set up a development environment.

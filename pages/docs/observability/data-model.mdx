---
title: Tracing Data Model in Langfuse
description: Langfuse (open source) helps you trace and analyze LLM applications. Learn how traces and observations are structured in Langfuse.
---

# Observability Data Model

Tracing in Langfuse is a way to log and analyze the execution of your LLM applications. The following reference provides a detailed overview of the data model used. It is inspired by OpenTelemetry.

## Traces and Observations

### Traces
A `trace` typically represents a single request or operation.
It contains the overall input and output of the function, as well as metadata about the request ( i.e. user, session, tags, etc.).

import { CircleDot, MoveHorizontal, Fan, ListTree, Bot, Wrench, Link, Search, WandSparkles, Layers3, ShieldCheck } from "lucide-react";

### Observations
Each trace can contain multiple `observations` to log the individual steps of the execution. Usually, a trace corresponds to a single api call of an application.

#### Types

- <CircleDot size={16} className="text-muted-green inline mr-1" /> `Events` are the
  basic building blocks. They are used to track discrete events in a trace.
- <MoveHorizontal size={16} className="text-muted-blue inline mr-1" /> `Spans` represent
  durations of units of work in a trace.
- <Fan size={16} className="text-muted-magenta inline mr-1" /> `Generations` are
  spans used to log generations of AI models incl. prompts, [token usage and costs](/docs/observability/features/token-and-cost-tracking).
- <Bot size={16} className="text-purple-600 inline mr-1" /> `Agents` decide on the flow of your application and can use tools using the guidance of an LLM.
- <Wrench size={16} className="text-orange-600 inline mr-1" /> `Tools` represent a tool call, e.g. to a weather API.
- <Link size={16} className="text-indigo-600 inline mr-1" /> `Chains` are links between different LLM application steps, e.g. glue that passes context from a retriever to an LLM call.
- <Search size={16} className="text-teal-600 inline mr-1" /> `Retrievers` represent data retrieval steps, e.g. a call to a vector store or a database.
- <WandSparkles size={16} className="text-primary-accent inline mr-1" /> `Evaluators` represent functions that assess relevance/correctness/helpfulness of a LLM's outputs.
- <Layers3 size={16} className="text-amber-600 inline mr-1" /> `Embeddings` are calls to a LLM to embed data and can [include token usage and costs](/docs/observability/features/token-and-cost-tracking)
- <ShieldCheck size={16} className="text-red-600 inline mr-1" /> `Guardrails` are components that protect against malicious content or jailbreaks.

**Note**: the actual values of the observation type in Langfuse arein singular form, `generation` not `generations`.


#### Nesting

<div className="grid grid-cols-2 mt-6 gap-2 md:gap-4">

<div className="border rounded py-4 px-4 flex flex-col items-center justify-center bg-card">

Hierarchical structure of traces in Langfuse

<div className="flex-1 flex items-center justify-center ">

```mermaid
classDiagram
    Trace "1" *-- "n" Observation
    Observation o-- Observation: Nesting
```

</div>

</div>

<div className="border rounded py-4 px-4 text-center block dark:hidden bg-card">

Example trace in Langfuse UI

![Trace in Langfuse UI](/images/docs/tracing-observation-tree-light.png)

</div>

<div className="border rounded py-4 px-4 text-center bg-card hidden dark:block">

Example trace in Langfuse UI

![Trace in Langfuse UI](/images/docs/tracing-observation-tree-dark.png)

</div>

</div>

## Sessions

Optionally, traces can be grouped into [sessions](/docs/tracing-features/sessions).
Sessions are used to group traces that are part of the same user interaction.
A common example is a thread in a chat interface.

Please refer to the [Sessions](/docs/tracing-features/sessions) documentation to add sessions to your traces.

<div className="grid grid-cols-2 mt-6 gap-2 md:gap-4">

<div className="border rounded py-4 text-center px-4 flex flex-col bg-card">

Optionally, sessions aggregate traces

<div className="flex-1 flex items-center justify-center">

```mermaid
classDiagram
    Session "1" o-- "n" Trace
```

</div>

</div>

<div className="border rounded py-4 px-4 text-center block bg-card">

Example session in Langfuse UI

<Frame border fullWidth>
  ![Session view](/images/docs/session.png)
</Frame>

</div>

</div>

## Scores

[Scores](/docs/scores) are flexible objects used to evaluate traces, observations, sessions and dataset runs.

They can be:

- Numeric, categorical, or boolean values
- Associated with a trace, a session, or a dataset run (one and only one is required)
- For trace level scores only: Linked to a specific observation within a trace (optional)
- Annotated with comments for additional context
- Validated against a score configuration schema (optional)

Typically, session-level scores are used for comprehensive evaluation of conversational experiences across multiple interactions, while trace-level scores are used for evaluation of a single interaction. Dataset run level scores are used for overall evaluation of a dataset run, e.g. precision, recall, F1-score.

Please refer to the [scores documentation](/docs/scores) to get started. For more details on score types and attributes, refer to the [score data model](/docs/scores/data-model) documentation.

## Billable Units

Langfuse Cloud [pricing](/pricing) is based on the number of ingested units per billing period.

`Units` = `Traces` + `Observations` + `Scores`

Use our [pricing calculator](/pricing?calculatorOpen=true) to estimate your monthly costs based on your expected usage.

### FAQ

**How can I track my Langfuse Cloud usage?** Use the Usage Monitoring Report in the Dashboards tab in Langfuse to analyze your Langfuse Cloud usage.

**How can I optimize my Langfuse Cloud usage to reduce cost?** If your application scales and you want to optimize Langfuse Cloud cost, please check out [this guide](/faq/all/cutting-costs).
